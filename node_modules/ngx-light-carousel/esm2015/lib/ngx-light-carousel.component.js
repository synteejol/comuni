import { __decorate, __metadata, __param } from "tslib";
import { isPlatformBrowser } from '@angular/common';
import { AfterViewInit, ChangeDetectorRef, Component, ContentChild, ContentChildren, ElementRef, EmbeddedViewRef, EventEmitter, HostListener, Inject, Input, NgZone, OnChanges, OnDestroy, OnInit, Output, PLATFORM_ID, QueryList, Renderer2, TemplateRef, ViewChild, ViewContainerRef, ViewEncapsulation, } from '@angular/core';
import * as Hammer from 'hammerjs';
import { interval, Subject } from 'rxjs';
import { throttle } from 'rxjs/operators';
import { NgxCarouselItemDirective } from './ngx-light-carousel-item.directive';
import { ngxLightOptions } from './ngx-light-carousel.model';
let NgxCarouselComponent = class NgxCarouselComponent {
    constructor(platformId, _renderer, zone, cd) {
        this.platformId = platformId;
        this._renderer = _renderer;
        this.zone = zone;
        this.cd = cd;
        this.current = 0;
        this.currentChange = new EventEmitter();
        this.infiniteElmRefs = [];
        this.timeLeft = 2000;
        this.dotsLoading = true;
        this.loading = true;
        this.grabbing = false;
        this.arrowsVisible = true;
        this.addPanningClass = () => {
            this.grabbing = true;
            this._renderer.addClass(this.elements().rootElement, 'grabbing');
            this._renderer.addClass(this.elements().containerElement, 'panning');
        };
        this.removePanningClass = () => {
            this.grabbing = false;
            this._renderer.removeClass(this.elements().rootElement, 'grabbing');
            this._renderer.removeClass(this.elements().containerElement, 'panning');
        };
        this.addAnimationClass = () => {
            if (this.options.animation.animationClass !== '') {
                this._renderer.addClass(this.elements().containerElement, this.options.animation.animationClass);
            }
        };
        this.removeAnimationClass = () => {
            if (this.options.animation.animationClass !== '') {
                this._renderer.removeClass(this.elements().containerElement, this.options.animation.animationClass);
            }
        };
        this.panTo = (value) => {
            if (isPlatformBrowser(this.platformId)) {
                this._renderer.setStyle(this.elements().containerElement, 'transform', `translate3d(${value}px, 0,0)`);
            }
            else {
                this._renderer.setStyle(this.elements().containerElement, 'transform', `translate3d(${value}%, 0,0)`);
            }
        };
        this.currentIndex = (number) => {
            if (!this.infiniteMode() && number !== undefined) {
                if (number >= 0) {
                    if (number < 0) {
                        this.current = 0;
                        // } else if (this.currentBreakpoint().number % 1 != 0 && this.current - 1 > this.data.length) {
                        // 	this.current = this.data.length + 1 - this.currentBreakpoint().number
                    }
                    else if (number > this.data.length - this.currentBreakpoint().number) {
                        this.current = this.data.length - this.currentBreakpoint().number;
                    }
                    else {
                        this.current = number;
                    }
                }
            }
            else if (number != undefined) {
                this.current = number;
            }
            return this.current;
        };
        this.slowOnOutOfBounds = e => {
            if (!this.options.infinite && this.outOfBound()) {
                e.deltaX *= 0.2;
                e.deltaY *= 0.2;
            }
            return e;
        };
        this.scrollBackToEdge = () => {
            const root = this.elements().rootElement.getBoundingClientRect();
            const container = this.elements().containerElement.getBoundingClientRect();
            if (container.right < root.right) {
                this.goToIndex(this.visibleElements());
            }
            if (root.left - container.left < 0) {
                this.goToIndex(0);
            }
        };
        this.outOfBound = () => {
            const root = this.elements().rootElement.getBoundingClientRect();
            const container = this.elements().containerElement.getBoundingClientRect();
            if (root.right - container.right > 0) {
                this.currentIndex(this.data.length - 1);
                return true;
            }
            if (root.left - container.left < 0) {
                this.currentIndex(0);
                return true;
            }
            return false;
        };
        this.detectSwipingLeft = e => {
            return e.velocityX < -this.options.swipe.swipeVelocity;
        };
        this.detectSwipingRight = e => {
            return e.velocityX > this.options.swipe.swipeVelocity;
        };
        this.detectPanningLeft = e => {
            return e.velocityX < 1 && e.distance < -this.carouselItemWidthVar * 1.5;
        };
        this.detectPanningRight = e => {
            return e.velocityX > 1 && e.distance < this.carouselItemWidthVar * 1.5;
        };
        this.nextSlide = () => {
            this.addAnimationClass();
            if (this.data.length > 1) {
                if (!this.infiniteMode() && this.visibleElements() < this.currentIndex()) {
                    this.goToIndex(this.visibleElements());
                }
                else {
                    this.goToIndex(this.currentIndex() + 1);
                }
            }
            setTimeout(() => {
                this.removeAnimationClass();
            }, this.options.animation.animationTime);
        };
        this.prevSlide = () => {
            this.addAnimationClass();
            if (this.data.length > 1) {
                if (!this.infiniteMode() && 0 >= this.currentIndex()) {
                    this.goToIndex(this.currentIndex(0));
                }
                else {
                    this.goToIndex(this.currentIndex() - 1);
                }
            }
            setTimeout(() => {
                this.removeAnimationClass();
            }, this.options.animation.animationTime);
        };
        this.startTimer = () => {
            this.zone.runOutsideAngular(() => {
                var autoplay = this.autoplayMode();
                if (autoplay && autoplay.enabled) {
                    this.interval = setInterval(() => {
                        if (this.timeLeft > 0) {
                            this.timeLeft = this.timeLeft - 100;
                        }
                        else {
                            this.timeLeft = JSON.parse(JSON.stringify(autoplay.delay));
                            this.actionDelay.next(autoplay.direction == 'left' ? this.prevSlide : this.nextSlide);
                        }
                    }, 100);
                }
            });
        };
        this.pauseTimer = () => {
            this.zone.runOutsideAngular(() => {
                try {
                    var autoplay = this.autoplayMode();
                    if (autoplay && autoplay.enabled) {
                        this.timeLeft = JSON.parse(JSON.stringify(autoplay.delay));
                        clearInterval(this.interval);
                    }
                    this.timeLeft = JSON.parse(JSON.stringify(autoplay.delay));
                    delete this.interval;
                }
                catch (_a) { }
            });
        };
        this.goToIndex = number => {
            if (this.infiniteMode()) {
                this.panTo(-this.carouselItemWidth() * number);
            }
            else {
                if (number > -1 && number <= this.data.length - this.currentBreakpoint().number) {
                    this.currentIndex(number);
                    this.panTo(-this.carouselItemWidth() * number);
                }
                if (number <= -1) {
                    this.currentIndex(0);
                    this.goToIndex(0);
                }
            }
            this.currentIndex(number);
        };
        this.calculateMoved = e => {
            const moved = Math.round(Math.abs(e.deltaX) / this.carouselItemWidth());
            return moved > 0 ? moved : 1;
        };
        this.loading = true;
        this.actionDelay = new Subject();
        this.throttleSub = this.actionDelay.asObservable();
        this.subRef = this.throttleSub.pipe(throttle(val => interval(this.options.animation.animationTime + 40))).subscribe(data => {
            data();
        });
    }
    click(fn) {
        this.actionDelay.next(fn);
    }
    ngOnInit() {
        this.dots = [];
    }
    ngAfterViewInit() {
        this.init();
        this.loading = false;
        if (this.sufficientSlides()) {
            if (this.infiniteMode()) {
                this.addInfiniteElm();
            }
            if (this.autoplayMode()) {
                this.startTimer();
            }
        }
        this.goToIndex(this.current);
        this.rootElmWidth;
        this.setViewWidth();
        this.calculateDots();
    }
    ngOnChanges() {
        if (this.elements()) {
            this.onResize();
        }
    }
    ngOnDestroy() {
        this.pauseTimer();
        this.subRef.unsubscribe();
    }
    onResize() {
        this.rootElmWidth;
        this.setViewWidth();
        this.calculateDots();
        if (this.sufficientSlides()) {
            if (this.infiniteMode()) {
                this.addInfiniteElm();
            }
        }
        this.goToIndex(this.currentIndex());
    }
    sufficientSlides() {
        this.showArrows(this.data.length > this.currentBreakpoint().number);
        return this.data.length > this.currentBreakpoint().number;
    }
    showArrows(state) {
        this.arrowsVisible = state;
    }
    rootElmWidth() {
        return isPlatformBrowser(this.platformId) ? this.elements().rootElement.getBoundingClientRect().width : 100;
    }
    carouselItemWidth() {
        if (this.data.length > this.currentBreakpoint().number) {
            return (this.carouselItemWidthVar = this.rootElmWidth() / this.currentBreakpoint().number);
        }
        else {
            return (this.carouselItemWidthVar = this.rootElmWidth() / this.data.length);
        }
    }
    currentBreakpoint() {
        for (let i = 0; i < this.options.breakpoints.length; i++) {
            if (this.options.breakpoints[i].width > this.rootElmWidth()) {
                return this.options.breakpoints[i];
            }
        }
    }
    elements() {
        if (this.sliderElement) {
            return {
                rootElement: this.sliderElement.nativeElement,
                containerElement: this.sliderElement.nativeElement.children[0],
                carouselItems: this.carouselItems.toArray().map(x => x.nativeElement),
            };
        }
        return;
    }
    setViewWidth() {
        this._renderer.setStyle(this.elements().containerElement, 'display', 'inline-flex');
        this._renderer.setStyle(this.elements().containerElement, 'position', 'relative');
        this.elements().carouselItems.forEach((element) => {
            this._renderer.addClass(element, 'slide');
            this._renderer.setStyle(element, 'width', this.carouselItemWidth() + 'px');
            this._renderer.setStyle(element, 'display', 'inline-flex');
        });
        if (this.infiniteMode()) {
            this.infiniteElmRefs.forEach(ref => {
                this._renderer.addClass(ref.rootNodes[0], 'slide');
                this._renderer.setStyle(ref.rootNodes[0], 'width', this.carouselItemWidth() + 'px');
            });
        }
    }
    hover() {
        if (this.autoplayMode()) {
            if (this.autoplayMode().stopOnHover) {
                this.pauseTimer();
            }
        }
    }
    unhover() {
        if (this.autoplayMode()) {
            this.pauseTimer();
            this.startTimer();
        }
    }
    calculateDots() {
        this.dots = [];
        if (this.infiniteMode()) {
            var number = this.data.length;
        }
        else {
            var number = this.data.length - this.currentBreakpoint().number + 1;
        }
        if (number > 1) {
            let results = Array.from(Array(Number(number.toFixed(0))).keys());
            this.dots = results;
            this.dotsLoading = false;
            return results;
        }
        else {
            let results = [];
            this.dots = [];
            this.dotsLoading = false;
            return results;
        }
    }
    visibleElements() {
        return this.data.length - this.currentBreakpoint().number;
    }
    addInfiniteElm() {
        this.infiniteElmRefs = [];
        this.infiniteContainer.clear();
        for (let i = 1; i <= this.data.length; i++) {
            const elm = this.infiniteContainer.createEmbeddedView(this.contentContent, {
                $implicit: this.data[this.data.length - i],
                index: this.data.length - i,
            });
            this._renderer.setStyle(elm.rootNodes[0], 'position', 'absolute');
            this._renderer.setStyle(elm.rootNodes[0], 'transform', `translate3d(-${100 * i}%, 0,0)`);
            this._renderer.setStyle(elm.rootNodes[0], 'display', 'inline-flex');
            this._renderer.setStyle(elm.rootNodes[0], 'visibility', 'visible');
            this._renderer.setStyle(elm.rootNodes[0], 'width', this.carouselItemWidthVar + 'px');
            this._renderer.addClass(elm.rootNodes[0], 'slide');
            const elm2 = this.infiniteContainer.createEmbeddedView(this.contentContent, {
                $implicit: this.data[i - 1],
                index: i - 1,
            });
            this._renderer.setStyle(elm2.rootNodes[0], 'position', 'absolute');
            this._renderer.setStyle(elm2.rootNodes[0], 'right', 0);
            this._renderer.setStyle(elm2.rootNodes[0], 'top', 0);
            this._renderer.setStyle(elm2.rootNodes[0], 'transform', `translate3d(${100 * i}%, 0,0)`);
            this._renderer.setStyle(elm2.rootNodes[0], 'display', 'inline-flex');
            this._renderer.setStyle(elm2.rootNodes[0], 'visibility', 'visible');
            this._renderer.setStyle(elm2.rootNodes[0], 'width', this.carouselItemWidthVar + 'px');
            this._renderer.addClass(elm2.rootNodes[0], 'slide');
            elm.detectChanges();
            elm2.detectChanges();
            this.infiniteElmRefs.push(elm);
            this.infiniteElmRefs.push(elm2);
        }
    }
    infiniteHandler() {
        // this.removePanningClass()
        this.addAnimationClass();
        setTimeout(() => {
            this.goToIndex(this.currentIndex());
            this.removeAnimationClass();
        }, this.options.animation.animationTime);
        if (0 > this.currentIndex()) {
            this.currentIndex(this.data.length - 1);
            setTimeout(() => {
                this.removeAnimationClass();
                this.goToIndex(this.currentIndex(this.data.length - 1));
            }, this.options.animation.animationTime + 10);
        }
        else if (this.data.length - 1 < this.currentIndex()) {
            this.currentIndex(0);
            setTimeout(() => {
                this.removeAnimationClass();
                this.goToIndex(this.currentIndex(0));
            }, this.options.animation.animationTime + 10);
        }
        return;
    }
    scrollToIndex(number) {
        this.addAnimationClass();
        this.goToIndex(number);
    }
    infiniteMode() {
        return this.options.infinite;
    }
    autoplayMode() {
        if (this.options.autoplay && this.options.autoplay.enabled) {
            return this.options.autoplay;
        }
        else {
            return false;
        }
    }
    moveIndex(move) {
        return this.currentIndex() + move;
    }
    init() {
        this.zone.runOutsideAngular(() => {
            if (this.data.length > 1 && this.sufficientSlides()) {
                var sliderManager = new Hammer.Manager(this.elements().containerElement);
                sliderManager.add(new Hammer.Pan({ threshold: 0, pointers: 0 }));
                sliderManager.on('panleft panright panend pancancel', (e) => {
                    switch (e.type) {
                        case 'panleft':
                        case 'panright':
                            this.pauseTimer();
                            if (!this.grabbing) {
                                this.removeAnimationClass();
                                this.addPanningClass();
                            }
                            if (this.options.drag.draggable) {
                                this.panTo(-this.current * this.carouselItemWidthVar + 0 + e.deltaX);
                            }
                            break;
                        case 'pancancel':
                            this.removePanningClass();
                            this.addAnimationClass();
                            this.goToIndex(this.currentIndex());
                            break;
                        case 'panend':
                            // e.gesture.srcEvent.preventDefault()
                            this.pauseTimer();
                            this.removePanningClass();
                            this.addAnimationClass();
                            let moved = this.calculateMoved(e);
                            if (!this.infiniteMode()) {
                                if (this.outOfBound()) {
                                    this.scrollBackToEdge();
                                    setTimeout(() => {
                                        this.removeAnimationClass();
                                    }, this.options.animation.animationTime);
                                    break;
                                }
                            }
                            if (this.options.drag.draggable) {
                                if (this.detectPanningLeft(e)) {
                                    this.addAnimationClass();
                                    this.goToIndex(this.moveIndex(+moved));
                                    this.infiniteHandler();
                                    setTimeout(() => {
                                        this.removeAnimationClass();
                                    }, this.options.animation.animationTime);
                                    break;
                                }
                                if (this.detectPanningRight(e)) {
                                    this.addAnimationClass();
                                    if (1.00000001 < this.currentIndex() && this.currentIndex() < 1.999999999999) {
                                        this.goToIndex(Math.ceil(this.moveIndex(-moved)));
                                    }
                                    else {
                                        this.goToIndex(this.moveIndex(-moved));
                                    }
                                    this.infiniteHandler();
                                    setTimeout(() => {
                                        this.removeAnimationClass();
                                    }, this.options.animation.animationTime);
                                    break;
                                }
                            }
                            if (this.options.swipe.swipeable) {
                                if (this.detectSwipingLeft(e)) {
                                    this.nextSlide();
                                    this.infiniteHandler();
                                    if (!this.infiniteMode()) {
                                        this.addAnimationClass();
                                        if (0.00000001 < this.currentIndex() && this.currentIndex() < 0.999999999999) {
                                            this.removeAnimationClass();
                                            this.goToIndex(0);
                                        }
                                    }
                                    break;
                                }
                                if (this.detectSwipingRight(e)) {
                                    this.prevSlide();
                                    this.infiniteHandler();
                                    if (!this.infiniteMode()) {
                                        if (0.00000001 < this.currentIndex() && this.currentIndex() < 0.999999999999) {
                                            this.addAnimationClass();
                                            this.goToIndex(0);
                                            this.removeAnimationClass();
                                        }
                                    }
                                    break;
                                }
                            }
                        // this.addAnimationClass()
                        // this.goToIndex(this.currentIndex())
                        // setTimeout(() => {
                        // 	this.removeAnimationClass()
                        // }, this.options.animation.animationTime)
                        // e.gesture.srcEvent.preventDefault()
                    }
                });
                return sliderManager;
            }
        });
    }
};
NgxCarouselComponent.ctorParameters = () => [
    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },
    { type: Renderer2 },
    { type: NgZone },
    { type: ChangeDetectorRef }
];
__decorate([
    ViewChild('sliderElement', { static: false }),
    __metadata("design:type", ElementRef)
], NgxCarouselComponent.prototype, "sliderElement", void 0);
__decorate([
    ViewChild('prevElement', { static: false }),
    __metadata("design:type", ElementRef)
], NgxCarouselComponent.prototype, "btnPrevElement", void 0);
__decorate([
    ViewChild('nextElement', { static: false }),
    __metadata("design:type", ElementRef)
], NgxCarouselComponent.prototype, "btnNextElement", void 0);
__decorate([
    ViewChild('progressElement', { static: false }),
    __metadata("design:type", ElementRef)
], NgxCarouselComponent.prototype, "progressContainerElement", void 0);
__decorate([
    ContentChildren(NgxCarouselItemDirective, { read: ElementRef, descendants: true }),
    __metadata("design:type", QueryList)
], NgxCarouselComponent.prototype, "carouselItems", void 0);
__decorate([
    ContentChild('carouselPrev', { static: false }),
    __metadata("design:type", TemplateRef)
], NgxCarouselComponent.prototype, "contentPrev", void 0);
__decorate([
    ContentChild('carouselNext', { static: false }),
    __metadata("design:type", TemplateRef)
], NgxCarouselComponent.prototype, "contentNext", void 0);
__decorate([
    ContentChild('carouselDot', { static: false }),
    __metadata("design:type", TemplateRef)
], NgxCarouselComponent.prototype, "dotElm", void 0);
__decorate([
    ContentChild('carouselProgress', { static: false }),
    __metadata("design:type", TemplateRef)
], NgxCarouselComponent.prototype, "progressElm", void 0);
__decorate([
    ContentChild('infiniteContainer', { static: false, read: ViewContainerRef }),
    __metadata("design:type", ViewContainerRef)
], NgxCarouselComponent.prototype, "infiniteContainer", void 0);
__decorate([
    ContentChild('carouselContent', { static: false }),
    __metadata("design:type", TemplateRef)
], NgxCarouselComponent.prototype, "contentContent", void 0);
__decorate([
    Input(),
    __metadata("design:type", Number)
], NgxCarouselComponent.prototype, "current", void 0);
__decorate([
    Output(),
    __metadata("design:type", EventEmitter)
], NgxCarouselComponent.prototype, "currentChange", void 0);
__decorate([
    Input(),
    __metadata("design:type", Array)
], NgxCarouselComponent.prototype, "data", void 0);
__decorate([
    Input(),
    __metadata("design:type", ngxLightOptions)
], NgxCarouselComponent.prototype, "options", void 0);
__decorate([
    HostListener('window:resize'),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], NgxCarouselComponent.prototype, "onResize", null);
__decorate([
    HostListener('mouseover'),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], NgxCarouselComponent.prototype, "hover", null);
__decorate([
    HostListener('mouseout'),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], NgxCarouselComponent.prototype, "unhover", null);
NgxCarouselComponent = __decorate([
    Component({
        selector: 'ngx-light-carousel',
        template: "<div #sliderElement class=\"carousel\">\n\t<!-- Carousel Content -->\n\t<ng-content class=\"content\" select=\"[ngx-light-carousel-container]\"> </ng-content>\n</div>\n<!-- Previous Slide -->\n<div *ngIf=\"options.arrows\" #prevElement (click)=\"prevSlide()\" class=\"direction left\">\n\t<ng-container *ngTemplateOutlet=\"contentPrev\"></ng-container>\n</div>\n<!-- Next Slide -->\n<div *ngIf=\"options.arrows\" #nextElement (click)=\"nextSlide()\" class=\"direction right\">\n\t<ng-container *ngTemplateOutlet=\"contentNext\"></ng-container>\n</div>\n<!-- Dots -->\n<div *ngIf=\"options.indicators\" class=\"indicators\">\n\t<li *ngFor=\"let dot of dots; let i = index\" (click)=\"scrollToIndex(i)\" [ngClass]=\"{ active: current == i }\">\n\t\t<div class=\"ball\"></div>\n\t\t<ng-container *ngTemplateOutlet=\"dotElm\"> </ng-container>\n\t</li>\n</div>\n<!-- Progress -->\n<div *ngIf=\"progressElm && options.autoplay\" #progressElement>\n\t<ng-container *ngTemplateOutlet=\"progressElm\"> </ng-container>\n</div>\n<!-- Mask -->\n<div class=\"mask\">\n\t<ng-container></ng-container>\n</div>\n",
        encapsulation: ViewEncapsulation.None,
        styles: [".transition *{transition:transform .2s ease-out!important}:host{position:relative}.wrapper{padding-bottom:20px;position:relative;overflow-x:hidden;overflow-y:auto}.panning img{pointer-events:none}.carousel{overflow-x:hidden;position:relative;width:100%;height:100%;padding-bottom:30px}.carousel .content{display:-ms-inline-flexbox;display:inline-flex}.content{-ms-touch-action:pan-y!important;touch-action:pan-y!important;-webkit-backface-visibility:hidden;backface-visibility:hidden;will-change:transform,opacity;transform:translate3d();-ms-perspective:1000;perspective:1000;transform:translateZ(0)}.content article{width:100%;display:block}.content article img{width:100%;display:block;background-size:cover;background-position:center}.slide{will-change:transform,opacity;transform:translate3d();-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;-moz-perspective:1000;-ms-perspective:1000;transform:translateZ(0);perspective:1000}.direction{background-repeat:no-repeat;width:5%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;position:absolute;height:100%;cursor:pointer;background-size:50%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;top:0;background-position:center center}.direction.left{left:0;background-image:url(\"data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20style%3D%22transform%3A%20scale(-1%2C1)%22%20viewBox%3D%220%200%201000%201000%22%20enable-background%3D%22new%200%200%201000%201000%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cmetadata%3E%20Svg%20Vector%20Icons%20%3A%20http%3A%2F%2Fwww.onlinewebfonts.com%2Ficon%20%3C%2Fmetadata%3E%0A%3Cg%3E%3Cpath%20d%3D%22M767.9%2C499.9L291.6%2C10l-59.4%2C61.3l416.6%2C428.7L232.1%2C928.7l59.5%2C61.3L767.9%2C499.9z%22%2F%3E%3C%2Fg%3E%0A%3C%2Fsvg%3E\")}.direction.right{right:0;background-image:url(data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%201000%201000%22%20enable-background%3D%22new%200%200%201000%201000%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cmetadata%3E%20Svg%20Vector%20Icons%20%3A%20http%3A%2F%2Fwww.onlinewebfonts.com%2Ficon%20%3C%2Fmetadata%3E%0A%3Cg%3E%3Cpath%20d%3D%22M767.9%2C499.9L291.6%2C10l-59.4%2C61.3l416.6%2C428.7L232.1%2C928.7l59.5%2C61.3L767.9%2C499.9z%22%2F%3E%3C%2Fg%3E%0A%3C%2Fsvg%3E)}ul.indicators{bottom:0;left:0;margin:0;padding:0;position:absolute;text-align:center;width:100%}ul.indicators li{cursor:pointer;display:inline-block;position:relative;padding:.5rem}ul.indicators li.active *{color:#000}.active .ball{background:#000;color:#000;opacity:1}.ball{width:10px;height:10px;border-radius:50%;background:#fff;border:2px solid #000}.grab{cursor:-webkit-grab;cursor:grab}.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.mask{pointer-events:none;position:absolute;left:0;top:0;right:0;bottom:0}"]
    }),
    __param(0, Inject(PLATFORM_ID)),
    __metadata("design:paramtypes", [Object, Renderer2, NgZone, ChangeDetectorRef])
], NgxCarouselComponent);
export { NgxCarouselComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWxpZ2h0LWNhcm91c2VsLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1saWdodC1jYXJvdXNlbC8iLCJzb3VyY2VzIjpbImxpYi9uZ3gtbGlnaHQtY2Fyb3VzZWwuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQTtBQUNuRCxPQUFPLEVBQ04sYUFBYSxFQUNiLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsWUFBWSxFQUNaLGVBQWUsRUFDZixVQUFVLEVBQ1YsZUFBZSxFQUNmLFlBQVksRUFDWixZQUFZLEVBQ1osTUFBTSxFQUNOLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxFQUNULFNBQVMsRUFDVCxNQUFNLEVBQ04sTUFBTSxFQUNOLFdBQVcsRUFDWCxTQUFTLEVBQ1QsU0FBUyxFQUNULFdBQVcsRUFDWCxTQUFTLEVBQ1QsZ0JBQWdCLEVBQ2hCLGlCQUFpQixHQUNqQixNQUFNLGVBQWUsQ0FBQTtBQUN0QixPQUFPLEtBQUssTUFBTSxNQUFNLFVBQVUsQ0FBQTtBQUNsQyxPQUFPLEVBQUUsUUFBUSxFQUFjLE9BQU8sRUFBZ0IsTUFBTSxNQUFNLENBQUE7QUFDbEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFBO0FBQ3pDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHFDQUFxQyxDQUFBO0FBQzlFLE9BQU8sRUFBb0IsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUE7QUFROUUsSUFBYSxvQkFBb0IsR0FBakMsTUFBYSxvQkFBb0I7SUE0QmhDLFlBQXlDLFVBQWtCLEVBQVUsU0FBb0IsRUFBVSxJQUFZLEVBQVUsRUFBcUI7UUFBckcsZUFBVSxHQUFWLFVBQVUsQ0FBUTtRQUFVLGNBQVMsR0FBVCxTQUFTLENBQVc7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUFRO1FBQVUsT0FBRSxHQUFGLEVBQUUsQ0FBbUI7UUFoQnJJLFlB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QUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQzs4QkFBb0IsZ0JBQWdCOytEQUFBO0FBQzdEO0lBQW5ELFlBQVksQ0FBQyxpQkFBaUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsQ0FBQzs4QkFBaUIsV0FBVzs0REFBSztBQUMzRTtJQUFSLEtBQUssRUFBRTs7cURBQW9CO0FBQ2xCO0lBQVQsTUFBTSxFQUFFOzhCQUFnQixZQUFZOzJEQUE2QjtBQUN6RDtJQUFSLEtBQUssRUFBRTs7a0RBQVk7QUFDWDtJQUFSLEtBQUssRUFBRTs4QkFBVSxlQUFlO3FEQUFBO0FBMkRqQztJQURDLFlBQVksQ0FBQyxlQUFlLENBQUM7Ozs7b0RBVzdCO0FBMkREO0lBREMsWUFBWSxDQUFDLFdBQVcsQ0FBQzs7OztpREFPekI7QUFHRDtJQURDLFlBQVksQ0FBQyxVQUFVLENBQUM7Ozs7bURBTXhCO0FBN0pXLG9CQUFvQjtJQU5oQyxTQUFTLENBQUM7UUFDVixRQUFRLEVBQUUsb0JBQW9CO1FBQzlCLG9sQ0FBa0Q7UUFFbEQsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7O0tBQ3JDLENBQUM7SUE2QlksV0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUE7cUNBQXFCLE1BQU0sRUFBcUIsU0FBUyxFQUFnQixNQUFNLEVBQWMsaUJBQWlCO0dBNUJsSSxvQkFBb0IsQ0FzaUJoQztTQXRpQlksb0JBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNQbGF0Zm9ybUJyb3dzZXIgfSBmcm9tICdAYW5ndWxhci9jb21tb24nXG5pbXBvcnQge1xuXHRBZnRlclZpZXdJbml0LFxuXHRDaGFuZ2VEZXRlY3RvclJlZixcblx0Q29tcG9uZW50LFxuXHRDb250ZW50Q2hpbGQsXG5cdENvbnRlbnRDaGlsZHJlbixcblx0RWxlbWVudFJlZixcblx0RW1iZWRkZWRWaWV3UmVmLFxuXHRFdmVudEVtaXR0ZXIsXG5cdEhvc3RMaXN0ZW5lcixcblx0SW5qZWN0LFxuXHRJbnB1dCxcblx0Tmdab25lLFxuXHRPbkNoYW5nZXMsXG5cdE9uRGVzdHJveSxcblx0T25Jbml0LFxuXHRPdXRwdXQsXG5cdFBMQVRGT1JNX0lELFxuXHRRdWVyeUxpc3QsXG5cdFJlbmRlcmVyMixcblx0VGVtcGxhdGVSZWYsXG5cdFZpZXdDaGlsZCxcblx0Vmlld0NvbnRhaW5lclJlZixcblx0Vmlld0VuY2Fwc3VsYXRpb24sXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5pbXBvcnQgKiBhcyBIYW1tZXIgZnJvbSAnaGFtbWVyanMnXG5pbXBvcnQgeyBpbnRlcnZhbCwgT2JzZXJ2YWJsZSwgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcydcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnXG5pbXBvcnQgeyBOZ3hDYXJvdXNlbEl0ZW1EaXJlY3RpdmUgfSBmcm9tICcuL25neC1saWdodC1jYXJvdXNlbC1pdGVtLmRpcmVjdGl2ZSdcbmltcG9ydCB7IG5neExpZ2h0QXV0b3BsYXksIG5neExpZ2h0T3B0aW9ucyB9IGZyb20gJy4vbmd4LWxpZ2h0LWNhcm91c2VsLm1vZGVsJ1xuXG5AQ29tcG9uZW50KHtcblx0c2VsZWN0b3I6ICduZ3gtbGlnaHQtY2Fyb3VzZWwnLFxuXHR0ZW1wbGF0ZVVybDogJy4vbmd4LWxpZ2h0LWNhcm91c2VsLmNvbXBvbmVudC5odG1sJyxcblx0c3R5bGVVcmxzOiBbJy4vbmd4LWxpZ2h0LWNhcm91c2VsLmNvbXBvbmVudC5zY3NzJ10sXG5cdGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG59KVxuZXhwb3J0IGNsYXNzIE5neENhcm91c2VsQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSB7XG5cdEBWaWV3Q2hpbGQoJ3NsaWRlckVsZW1lbnQnLCB7IHN0YXRpYzogZmFsc2UgfSkgc2xpZGVyRWxlbWVudDogRWxlbWVudFJlZlxuXHRAVmlld0NoaWxkKCdwcmV2RWxlbWVudCcsIHsgc3RhdGljOiBmYWxzZSB9KSBidG5QcmV2RWxlbWVudDogRWxlbWVudFJlZlxuXHRAVmlld0NoaWxkKCduZXh0RWxlbWVudCcsIHsgc3RhdGljOiBmYWxzZSB9KSBidG5OZXh0RWxlbWVudDogRWxlbWVudFJlZlxuXHRAVmlld0NoaWxkKCdwcm9ncmVzc0VsZW1lbnQnLCB7IHN0YXRpYzogZmFsc2UgfSkgcHJvZ3Jlc3NDb250YWluZXJFbGVtZW50OiBFbGVtZW50UmVmXG5cdEBDb250ZW50Q2hpbGRyZW4oTmd4Q2Fyb3VzZWxJdGVtRGlyZWN0aXZlLCB7IHJlYWQ6IEVsZW1lbnRSZWYsIGRlc2NlbmRhbnRzOiB0cnVlIH0pIGNhcm91c2VsSXRlbXM6IFF1ZXJ5TGlzdDxFbGVtZW50UmVmPlxuXHRAQ29udGVudENoaWxkKCdjYXJvdXNlbFByZXYnLCB7IHN0YXRpYzogZmFsc2UgfSkgY29udGVudFByZXY6IFRlbXBsYXRlUmVmPGFueT5cblx0QENvbnRlbnRDaGlsZCgnY2Fyb3VzZWxOZXh0JywgeyBzdGF0aWM6IGZhbHNlIH0pIGNvbnRlbnROZXh0OiBUZW1wbGF0ZVJlZjxhbnk+XG5cdEBDb250ZW50Q2hpbGQoJ2Nhcm91c2VsRG90JywgeyBzdGF0aWM6IGZhbHNlIH0pIGRvdEVsbTogVGVtcGxhdGVSZWY8YW55PlxuXHRAQ29udGVudENoaWxkKCdjYXJvdXNlbFByb2dyZXNzJywgeyBzdGF0aWM6IGZhbHNlIH0pIHByb2dyZXNzRWxtOiBUZW1wbGF0ZVJlZjxhbnk+XG5cdEBDb250ZW50Q2hpbGQoJ2luZmluaXRlQ29udGFpbmVyJywgeyBzdGF0aWM6IGZhbHNlLCByZWFkOiBWaWV3Q29udGFpbmVyUmVmIH0pIGluZmluaXRlQ29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmXG5cdEBDb250ZW50Q2hpbGQoJ2Nhcm91c2VsQ29udGVudCcsIHsgc3RhdGljOiBmYWxzZSB9KSBjb250ZW50Q29udGVudDogVGVtcGxhdGVSZWY8YW55PlxuXHRASW5wdXQoKSBjdXJyZW50OiBudW1iZXIgPSAwXG5cdEBPdXRwdXQoKSBjdXJyZW50Q2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXHRASW5wdXQoKSBkYXRhOiBhbnlbXVxuXHRASW5wdXQoKSBvcHRpb25zOiBuZ3hMaWdodE9wdGlvbnNcblx0cHJpdmF0ZSBpbmZpbml0ZUVsbVJlZnM6IEFycmF5PEVtYmVkZGVkVmlld1JlZjxhbnk+PiA9IFtdXG5cdHByaXZhdGUgdGltZUxlZnQ6IG51bWJlciA9IDIwMDBcblx0cHJpdmF0ZSBpbnRlcnZhbFxuXHRwcml2YXRlIGFjdGlvbkRlbGF5OiBTdWJqZWN0PGFueT5cblx0ZG90czogbnVtYmVyW11cblx0ZG90c0xvYWRpbmc6IGJvb2xlYW4gPSB0cnVlXG5cdGxvYWRpbmc6IGJvb2xlYW4gPSB0cnVlXG5cdGdyYWJiaW5nOiBib29sZWFuID0gZmFsc2Vcblx0dGhyb3R0bGVTdWI6IE9ic2VydmFibGU8YW55PlxuXHRzdWJSZWY6IFN1YnNjcmlwdGlvblxuXHRhcnJvd3NWaXNpYmxlOiBib29sZWFuID0gdHJ1ZVxuXHRjYXJvdXNlbEl0ZW1XaWR0aFZhcjogbnVtYmVyXG5cdGNvbnN0cnVjdG9yKEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogT2JqZWN0LCBwcml2YXRlIF9yZW5kZXJlcjogUmVuZGVyZXIyLCBwcml2YXRlIHpvbmU6IE5nWm9uZSwgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcblx0XHR0aGlzLmxvYWRpbmcgPSB0cnVlXG5cdFx0dGhpcy5hY3Rpb25EZWxheSA9IG5ldyBTdWJqZWN0PGFueT4oKVxuXHRcdHRoaXMudGhyb3R0bGVTdWIgPSB0aGlzLmFjdGlvbkRlbGF5LmFzT2JzZXJ2YWJsZSgpXG5cdFx0dGhpcy5zdWJSZWYgPSB0aGlzLnRocm90dGxlU3ViLnBpcGUodGhyb3R0bGUodmFsID0+IGludGVydmFsKHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSArIDQwKSkpLnN1YnNjcmliZShkYXRhID0+IHtcblx0XHRcdGRhdGEoKVxuXHRcdH0pXG5cdH1cblxuXHRjbGljayhmbikge1xuXHRcdHRoaXMuYWN0aW9uRGVsYXkubmV4dChmbilcblx0fVxuXG5cdG5nT25Jbml0KCkge1xuXHRcdHRoaXMuZG90cyA9IFtdXG5cdH1cblxuXHRuZ0FmdGVyVmlld0luaXQoKSB7XG5cdFx0dGhpcy5pbml0KClcblx0XHR0aGlzLmxvYWRpbmcgPSBmYWxzZVxuXHRcdGlmICh0aGlzLnN1ZmZpY2llbnRTbGlkZXMoKSkge1xuXHRcdFx0aWYgKHRoaXMuaW5maW5pdGVNb2RlKCkpIHtcblx0XHRcdFx0dGhpcy5hZGRJbmZpbml0ZUVsbSgpXG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5hdXRvcGxheU1vZGUoKSkge1xuXHRcdFx0XHR0aGlzLnN0YXJ0VGltZXIoKVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnQpXG5cdFx0dGhpcy5yb290RWxtV2lkdGhcblx0XHR0aGlzLnNldFZpZXdXaWR0aCgpXG5cdFx0dGhpcy5jYWxjdWxhdGVEb3RzKClcblx0fVxuXG5cdG5nT25DaGFuZ2VzKCkge1xuXHRcdGlmICh0aGlzLmVsZW1lbnRzKCkpIHtcblx0XHRcdHRoaXMub25SZXNpemUoKVxuXHRcdH1cblx0fVxuXG5cdG5nT25EZXN0cm95KCkge1xuXHRcdHRoaXMucGF1c2VUaW1lcigpXG5cdFx0dGhpcy5zdWJSZWYudW5zdWJzY3JpYmUoKVxuXHR9XG5cblx0QEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScpXG5cdG9uUmVzaXplKCkge1xuXHRcdHRoaXMucm9vdEVsbVdpZHRoXG5cdFx0dGhpcy5zZXRWaWV3V2lkdGgoKVxuXHRcdHRoaXMuY2FsY3VsYXRlRG90cygpXG5cdFx0aWYgKHRoaXMuc3VmZmljaWVudFNsaWRlcygpKSB7XG5cdFx0XHRpZiAodGhpcy5pbmZpbml0ZU1vZGUoKSkge1xuXHRcdFx0XHR0aGlzLmFkZEluZmluaXRlRWxtKClcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5nb1RvSW5kZXgodGhpcy5jdXJyZW50SW5kZXgoKSlcblx0fVxuXG5cdHN1ZmZpY2llbnRTbGlkZXMoKSB7XG5cdFx0dGhpcy5zaG93QXJyb3dzKHRoaXMuZGF0YS5sZW5ndGggPiB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCkubnVtYmVyKVxuXHRcdHJldHVybiB0aGlzLmRhdGEubGVuZ3RoID4gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlclxuXHR9XG5cblx0c2hvd0Fycm93cyhzdGF0ZTogYm9vbGVhbikge1xuXHRcdHRoaXMuYXJyb3dzVmlzaWJsZSA9IHN0YXRlXG5cdH1cblxuXHRyb290RWxtV2lkdGgoKSB7XG5cdFx0cmV0dXJuIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkgPyB0aGlzLmVsZW1lbnRzKCkucm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggOiAxMDBcblx0fVxuXG5cdGNhcm91c2VsSXRlbVdpZHRoKCkge1xuXHRcdGlmICh0aGlzLmRhdGEubGVuZ3RoID4gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlcikge1xuXHRcdFx0cmV0dXJuICh0aGlzLmNhcm91c2VsSXRlbVdpZHRoVmFyID0gdGhpcy5yb290RWxtV2lkdGgoKSAvIHRoaXMuY3VycmVudEJyZWFrcG9pbnQoKS5udW1iZXIpXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAodGhpcy5jYXJvdXNlbEl0ZW1XaWR0aFZhciA9IHRoaXMucm9vdEVsbVdpZHRoKCkgLyB0aGlzLmRhdGEubGVuZ3RoKVxuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnRCcmVha3BvaW50KCkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zLmJyZWFrcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLmJyZWFrcG9pbnRzW2ldLndpZHRoID4gdGhpcy5yb290RWxtV2lkdGgoKSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmJyZWFrcG9pbnRzW2ldXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZWxlbWVudHMoKSB7XG5cdFx0aWYgKHRoaXMuc2xpZGVyRWxlbWVudCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cm9vdEVsZW1lbnQ6IHRoaXMuc2xpZGVyRWxlbWVudC5uYXRpdmVFbGVtZW50LFxuXHRcdFx0XHRjb250YWluZXJFbGVtZW50OiB0aGlzLnNsaWRlckVsZW1lbnQubmF0aXZlRWxlbWVudC5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCxcblx0XHRcdFx0Y2Fyb3VzZWxJdGVtczogdGhpcy5jYXJvdXNlbEl0ZW1zLnRvQXJyYXkoKS5tYXAoeCA9PiB4Lm5hdGl2ZUVsZW1lbnQpLFxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm5cblx0fVxuXG5cdHByaXZhdGUgc2V0Vmlld1dpZHRoKCkge1xuXHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKHRoaXMuZWxlbWVudHMoKS5jb250YWluZXJFbGVtZW50LCAnZGlzcGxheScsICdpbmxpbmUtZmxleCcpXG5cdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5lbGVtZW50cygpLmNvbnRhaW5lckVsZW1lbnQsICdwb3NpdGlvbicsICdyZWxhdGl2ZScpXG5cdFx0dGhpcy5lbGVtZW50cygpLmNhcm91c2VsSXRlbXMuZm9yRWFjaCgoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKGVsZW1lbnQsICdzbGlkZScpXG5cdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbGVtZW50LCAnd2lkdGgnLCB0aGlzLmNhcm91c2VsSXRlbVdpZHRoKCkgKyAncHgnKVxuXHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxlbWVudCwgJ2Rpc3BsYXknLCAnaW5saW5lLWZsZXgnKVxuXHRcdH0pXG5cdFx0aWYgKHRoaXMuaW5maW5pdGVNb2RlKCkpIHtcblx0XHRcdHRoaXMuaW5maW5pdGVFbG1SZWZzLmZvckVhY2gocmVmID0+IHtcblx0XHRcdFx0dGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3MocmVmLnJvb3ROb2Rlc1swXSwgJ3NsaWRlJylcblx0XHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUocmVmLnJvb3ROb2Rlc1swXSwgJ3dpZHRoJywgdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aCgpICsgJ3B4Jylcblx0XHRcdH0pXG5cdFx0fVxuXHR9XG5cblx0QEhvc3RMaXN0ZW5lcignbW91c2VvdmVyJylcblx0aG92ZXIoKSB7XG5cdFx0aWYgKHRoaXMuYXV0b3BsYXlNb2RlKCkpIHtcblx0XHRcdGlmICgodGhpcy5hdXRvcGxheU1vZGUoKSBhcyBhbnkpLnN0b3BPbkhvdmVyKSB7XG5cdFx0XHRcdHRoaXMucGF1c2VUaW1lcigpXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0QEhvc3RMaXN0ZW5lcignbW91c2VvdXQnKVxuXHR1bmhvdmVyKCkge1xuXHRcdGlmICh0aGlzLmF1dG9wbGF5TW9kZSgpKSB7XG5cdFx0XHR0aGlzLnBhdXNlVGltZXIoKVxuXHRcdFx0dGhpcy5zdGFydFRpbWVyKClcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNhbGN1bGF0ZURvdHMoKSB7XG5cdFx0dGhpcy5kb3RzID0gW11cblx0XHRpZiAodGhpcy5pbmZpbml0ZU1vZGUoKSkge1xuXHRcdFx0dmFyIG51bWJlciA9IHRoaXMuZGF0YS5sZW5ndGhcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIG51bWJlciA9IHRoaXMuZGF0YS5sZW5ndGggLSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCkubnVtYmVyICsgMVxuXHRcdH1cblx0XHRpZiAobnVtYmVyID4gMSkge1xuXHRcdFx0bGV0IHJlc3VsdHMgPSBBcnJheS5mcm9tKEFycmF5KE51bWJlcihudW1iZXIudG9GaXhlZCgwKSkpLmtleXMoKSlcblx0XHRcdHRoaXMuZG90cyA9IHJlc3VsdHNcblx0XHRcdHRoaXMuZG90c0xvYWRpbmcgPSBmYWxzZVxuXHRcdFx0cmV0dXJuIHJlc3VsdHNcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IHJlc3VsdHMgPSBbXVxuXHRcdFx0dGhpcy5kb3RzID0gW11cblx0XHRcdHRoaXMuZG90c0xvYWRpbmcgPSBmYWxzZVxuXHRcdFx0cmV0dXJuIHJlc3VsdHNcblx0XHR9XG5cdH1cblxuXHRhZGRQYW5uaW5nQ2xhc3MgPSAoKSA9PiB7XG5cdFx0dGhpcy5ncmFiYmluZyA9IHRydWVcblx0XHR0aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnRzKCkucm9vdEVsZW1lbnQsICdncmFiYmluZycpXG5cdFx0dGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5lbGVtZW50cygpLmNvbnRhaW5lckVsZW1lbnQsICdwYW5uaW5nJylcblx0fVxuXG5cdHJlbW92ZVBhbm5pbmdDbGFzcyA9ICgpID0+IHtcblx0XHR0aGlzLmdyYWJiaW5nID0gZmFsc2Vcblx0XHR0aGlzLl9yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnRzKCkucm9vdEVsZW1lbnQsICdncmFiYmluZycpXG5cdFx0dGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50cygpLmNvbnRhaW5lckVsZW1lbnQsICdwYW5uaW5nJylcblx0fVxuXG5cdGFkZEFuaW1hdGlvbkNsYXNzID0gKCkgPT4ge1xuXHRcdGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLmFuaW1hdGlvbkNsYXNzICE9PSAnJykge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5lbGVtZW50cygpLmNvbnRhaW5lckVsZW1lbnQsIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uQ2xhc3MpXG5cdFx0fVxuXHR9XG5cblx0cmVtb3ZlQW5pbWF0aW9uQ2xhc3MgPSAoKSA9PiB7XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uQ2xhc3MgIT09ICcnKSB7XG5cdFx0XHR0aGlzLl9yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudCwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25DbGFzcylcblx0XHR9XG5cdH1cblxuXHRwYW5UbyA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XG5cdFx0aWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKHRoaXMuZWxlbWVudHMoKS5jb250YWluZXJFbGVtZW50LCAndHJhbnNmb3JtJywgYHRyYW5zbGF0ZTNkKCR7dmFsdWV9cHgsIDAsMClgKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudCwgJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUzZCgke3ZhbHVlfSUsIDAsMClgKVxuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnRJbmRleCA9IChudW1iZXI/OiBudW1iZXIpID0+IHtcblx0XHRpZiAoIXRoaXMuaW5maW5pdGVNb2RlKCkgJiYgbnVtYmVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChudW1iZXIgPj0gMCkge1xuXHRcdFx0XHRpZiAobnVtYmVyIDwgMCkge1xuXHRcdFx0XHRcdHRoaXMuY3VycmVudCA9IDBcblx0XHRcdFx0XHQvLyB9IGVsc2UgaWYgKHRoaXMuY3VycmVudEJyZWFrcG9pbnQoKS5udW1iZXIgJSAxICE9IDAgJiYgdGhpcy5jdXJyZW50IC0gMSA+IHRoaXMuZGF0YS5sZW5ndGgpIHtcblx0XHRcdFx0XHQvLyBcdHRoaXMuY3VycmVudCA9IHRoaXMuZGF0YS5sZW5ndGggKyAxIC0gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlclxuXHRcdFx0XHR9IGVsc2UgaWYgKG51bWJlciA+IHRoaXMuZGF0YS5sZW5ndGggLSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCkubnVtYmVyKSB7XG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50ID0gdGhpcy5kYXRhLmxlbmd0aCAtIHRoaXMuY3VycmVudEJyZWFrcG9pbnQoKS5udW1iZXJcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnQgPSBudW1iZXJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAobnVtYmVyICE9IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5jdXJyZW50ID0gbnVtYmVyXG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRcblx0fVxuXG5cdHNsb3dPbk91dE9mQm91bmRzID0gZSA9PiB7XG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuaW5maW5pdGUgJiYgdGhpcy5vdXRPZkJvdW5kKCkpIHtcblx0XHRcdGUuZGVsdGFYICo9IDAuMlxuXHRcdFx0ZS5kZWx0YVkgKj0gMC4yXG5cdFx0fVxuXHRcdHJldHVybiBlXG5cdH1cblxuXHRzY3JvbGxCYWNrVG9FZGdlID0gKCkgPT4ge1xuXHRcdGNvbnN0IHJvb3QgPSB0aGlzLmVsZW1lbnRzKCkucm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRcdGlmIChjb250YWluZXIucmlnaHQgPCByb290LnJpZ2h0KSB7XG5cdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLnZpc2libGVFbGVtZW50cygpKVxuXHRcdH1cblx0XHRpZiAocm9vdC5sZWZ0IC0gY29udGFpbmVyLmxlZnQgPCAwKSB7XG5cdFx0XHR0aGlzLmdvVG9JbmRleCgwKVxuXHRcdH1cblx0fVxuXG5cdG91dE9mQm91bmQgPSAoKSA9PiB7XG5cdFx0Y29uc3Qgcm9vdCA9IHRoaXMuZWxlbWVudHMoKS5yb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudHMoKS5jb250YWluZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdFx0aWYgKHJvb3QucmlnaHQgLSBjb250YWluZXIucmlnaHQgPiAwKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJbmRleCh0aGlzLmRhdGEubGVuZ3RoIC0gMSlcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXHRcdGlmIChyb290LmxlZnQgLSBjb250YWluZXIubGVmdCA8IDApIHtcblx0XHRcdHRoaXMuY3VycmVudEluZGV4KDApXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2Vcblx0fVxuXG5cdGRldGVjdFN3aXBpbmdMZWZ0ID0gZSA9PiB7XG5cdFx0cmV0dXJuIGUudmVsb2NpdHlYIDwgLXRoaXMub3B0aW9ucy5zd2lwZS5zd2lwZVZlbG9jaXR5XG5cdH1cblxuXHRkZXRlY3RTd2lwaW5nUmlnaHQgPSBlID0+IHtcblx0XHRyZXR1cm4gZS52ZWxvY2l0eVggPiB0aGlzLm9wdGlvbnMuc3dpcGUuc3dpcGVWZWxvY2l0eVxuXHR9XG5cblx0ZGV0ZWN0UGFubmluZ0xlZnQgPSBlID0+IHtcblx0XHRyZXR1cm4gZS52ZWxvY2l0eVggPCAxICYmIGUuZGlzdGFuY2UgPCAtdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aFZhciAqIDEuNVxuXHR9XG5cblx0ZGV0ZWN0UGFubmluZ1JpZ2h0ID0gZSA9PiB7XG5cdFx0cmV0dXJuIGUudmVsb2NpdHlYID4gMSAmJiBlLmRpc3RhbmNlIDwgdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aFZhciAqIDEuNVxuXHR9XG5cblx0dmlzaWJsZUVsZW1lbnRzKCkge1xuXHRcdHJldHVybiB0aGlzLmRhdGEubGVuZ3RoIC0gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlclxuXHR9XG5cblx0bmV4dFNsaWRlID0gKCkgPT4ge1xuXHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXG5cdFx0aWYgKHRoaXMuZGF0YS5sZW5ndGggPiAxKSB7XG5cdFx0XHRpZiAoIXRoaXMuaW5maW5pdGVNb2RlKCkgJiYgdGhpcy52aXNpYmxlRWxlbWVudHMoKSA8IHRoaXMuY3VycmVudEluZGV4KCkpIHtcblx0XHRcdFx0dGhpcy5nb1RvSW5kZXgodGhpcy52aXNpYmxlRWxlbWVudHMoKSlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZ29Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4KCkgKyAxKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSlcblx0fVxuXG5cdHByZXZTbGlkZSA9ICgpID0+IHtcblx0XHR0aGlzLmFkZEFuaW1hdGlvbkNsYXNzKClcblxuXHRcdGlmICh0aGlzLmRhdGEubGVuZ3RoID4gMSkge1xuXHRcdFx0aWYgKCF0aGlzLmluZmluaXRlTW9kZSgpICYmIDAgPj0gdGhpcy5jdXJyZW50SW5kZXgoKSkge1xuXHRcdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnRJbmRleCgwKSlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZ29Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4KCkgLSAxKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSlcblx0fVxuXG5cdGFkZEluZmluaXRlRWxtKCkge1xuXHRcdHRoaXMuaW5maW5pdGVFbG1SZWZzID0gW11cblx0XHR0aGlzLmluZmluaXRlQ29udGFpbmVyLmNsZWFyKClcblx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGVsbSA9IHRoaXMuaW5maW5pdGVDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuY29udGVudENvbnRlbnQsIHtcblx0XHRcdFx0JGltcGxpY2l0OiB0aGlzLmRhdGFbdGhpcy5kYXRhLmxlbmd0aCAtIGldLFxuXHRcdFx0XHRpbmRleDogdGhpcy5kYXRhLmxlbmd0aCAtIGksXG5cdFx0XHR9KVxuXHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtLnJvb3ROb2Rlc1swXSwgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbS5yb290Tm9kZXNbMF0sICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlM2QoLSR7MTAwICogaX0lLCAwLDApYClcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbS5yb290Tm9kZXNbMF0sICdkaXNwbGF5JywgJ2lubGluZS1mbGV4Jylcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbS5yb290Tm9kZXNbMF0sICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKVxuXHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtLnJvb3ROb2Rlc1swXSwgJ3dpZHRoJywgdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aFZhciArICdweCcpXG5cdFx0XHR0aGlzLl9yZW5kZXJlci5hZGRDbGFzcyhlbG0ucm9vdE5vZGVzWzBdLCAnc2xpZGUnKVxuXG5cdFx0XHRjb25zdCBlbG0yID0gdGhpcy5pbmZpbml0ZUNvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5jb250ZW50Q29udGVudCwge1xuXHRcdFx0XHQkaW1wbGljaXQ6IHRoaXMuZGF0YVtpIC0gMV0sXG5cdFx0XHRcdGluZGV4OiBpIC0gMSxcblx0XHRcdH0pXG5cdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbG0yLnJvb3ROb2Rlc1swXSwgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbTIucm9vdE5vZGVzWzBdLCAncmlnaHQnLCAwKVxuXHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtMi5yb290Tm9kZXNbMF0sICd0b3AnLCAwKVxuXHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtMi5yb290Tm9kZXNbMF0sICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlM2QoJHsxMDAgKiBpfSUsIDAsMClgKVxuXHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtMi5yb290Tm9kZXNbMF0sICdkaXNwbGF5JywgJ2lubGluZS1mbGV4Jylcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbTIucm9vdE5vZGVzWzBdLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJylcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbTIucm9vdE5vZGVzWzBdLCAnd2lkdGgnLCB0aGlzLmNhcm91c2VsSXRlbVdpZHRoVmFyICsgJ3B4Jylcblx0XHRcdHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKGVsbTIucm9vdE5vZGVzWzBdLCAnc2xpZGUnKVxuXG5cdFx0XHRlbG0uZGV0ZWN0Q2hhbmdlcygpXG5cdFx0XHRlbG0yLmRldGVjdENoYW5nZXMoKVxuXG5cdFx0XHR0aGlzLmluZmluaXRlRWxtUmVmcy5wdXNoKGVsbSlcblx0XHRcdHRoaXMuaW5maW5pdGVFbG1SZWZzLnB1c2goZWxtMilcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGluZmluaXRlSGFuZGxlcigpIHtcblx0XHQvLyB0aGlzLnJlbW92ZVBhbm5pbmdDbGFzcygpXG5cdFx0dGhpcy5hZGRBbmltYXRpb25DbGFzcygpXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnRJbmRleCgpKVxuXHRcdFx0dGhpcy5yZW1vdmVBbmltYXRpb25DbGFzcygpXG5cdFx0fSwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25UaW1lKVxuXHRcdGlmICgwID4gdGhpcy5jdXJyZW50SW5kZXgoKSkge1xuXHRcdFx0dGhpcy5jdXJyZW50SW5kZXgodGhpcy5kYXRhLmxlbmd0aCAtIDEpXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5yZW1vdmVBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdHRoaXMuZ29Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4KHRoaXMuZGF0YS5sZW5ndGggLSAxKSlcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSArIDEwKVxuXHRcdH0gZWxzZSBpZiAodGhpcy5kYXRhLmxlbmd0aCAtIDEgPCB0aGlzLmN1cnJlbnRJbmRleCgpKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJbmRleCgwKVxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnRJbmRleCgwKSlcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSArIDEwKVxuXHRcdH1cblx0XHRyZXR1cm5cblx0fVxuXG5cdHN0YXJ0VGltZXIgPSAoKSA9PiB7XG5cdFx0dGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcblx0XHRcdHZhciBhdXRvcGxheSA9IHRoaXMuYXV0b3BsYXlNb2RlKCkgYXMgbmd4TGlnaHRBdXRvcGxheVxuXHRcdFx0aWYgKGF1dG9wbGF5ICYmIGF1dG9wbGF5LmVuYWJsZWQpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcblx0XHRcdFx0XHRpZiAodGhpcy50aW1lTGVmdCA+IDApIHtcblx0XHRcdFx0XHRcdHRoaXMudGltZUxlZnQgPSB0aGlzLnRpbWVMZWZ0IC0gMTAwXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMudGltZUxlZnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGF1dG9wbGF5LmRlbGF5KSlcblx0XHRcdFx0XHRcdHRoaXMuYWN0aW9uRGVsYXkubmV4dChhdXRvcGxheS5kaXJlY3Rpb24gPT0gJ2xlZnQnID8gdGhpcy5wcmV2U2xpZGUgOiB0aGlzLm5leHRTbGlkZSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIDEwMClcblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cblx0cGF1c2VUaW1lciA9ICgpID0+IHtcblx0XHR0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIGF1dG9wbGF5ID0gdGhpcy5hdXRvcGxheU1vZGUoKSBhcyBuZ3hMaWdodEF1dG9wbGF5XG5cdFx0XHRcdGlmIChhdXRvcGxheSAmJiBhdXRvcGxheS5lbmFibGVkKSB7XG5cdFx0XHRcdFx0dGhpcy50aW1lTGVmdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXV0b3BsYXkuZGVsYXkpKVxuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnRpbWVMZWZ0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhdXRvcGxheS5kZWxheSkpXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmludGVydmFsXG5cdFx0XHR9IGNhdGNoIHt9XG5cdFx0fSlcblx0fVxuXG5cdHNjcm9sbFRvSW5kZXgobnVtYmVyKSB7XG5cdFx0dGhpcy5hZGRBbmltYXRpb25DbGFzcygpXG5cdFx0dGhpcy5nb1RvSW5kZXgobnVtYmVyKVxuXHR9XG5cblx0Z29Ub0luZGV4ID0gbnVtYmVyID0+IHtcblx0XHRpZiAodGhpcy5pbmZpbml0ZU1vZGUoKSkge1xuXHRcdFx0dGhpcy5wYW5UbygtdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aCgpICogbnVtYmVyKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAobnVtYmVyID4gLTEgJiYgbnVtYmVyIDw9IHRoaXMuZGF0YS5sZW5ndGggLSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCkubnVtYmVyKSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudEluZGV4KG51bWJlcilcblx0XHRcdFx0dGhpcy5wYW5UbygtdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aCgpICogbnVtYmVyKVxuXHRcdFx0fVxuXHRcdFx0aWYgKG51bWJlciA8PSAtMSkge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRJbmRleCgwKVxuXHRcdFx0XHR0aGlzLmdvVG9JbmRleCgwKVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmN1cnJlbnRJbmRleChudW1iZXIpXG5cdH1cblxuXHRpbmZpbml0ZU1vZGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5pbmZpbml0ZVxuXHR9XG5cblx0YXV0b3BsYXlNb2RlKCkge1xuXHRcdGlmICh0aGlzLm9wdGlvbnMuYXV0b3BsYXkgJiYgdGhpcy5vcHRpb25zLmF1dG9wbGF5LmVuYWJsZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMuYXV0b3BsYXlcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXHR9XG5cblx0Y2FsY3VsYXRlTW92ZWQgPSBlID0+IHtcblx0XHRjb25zdCBtb3ZlZCA9IE1hdGgucm91bmQoTWF0aC5hYnMoZS5kZWx0YVgpIC8gdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aCgpKVxuXHRcdHJldHVybiBtb3ZlZCA+IDAgPyBtb3ZlZCA6IDFcblx0fVxuXG5cdG1vdmVJbmRleChtb3ZlOiBudW1iZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50SW5kZXgoKSArIG1vdmVcblx0fVxuXG5cdGluaXQoKSB7XG5cdFx0dGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcblx0XHRcdGlmICh0aGlzLmRhdGEubGVuZ3RoID4gMSAmJiB0aGlzLnN1ZmZpY2llbnRTbGlkZXMoKSkge1xuXHRcdFx0XHR2YXIgc2xpZGVyTWFuYWdlciA9IG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudClcblx0XHRcdFx0c2xpZGVyTWFuYWdlci5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAsIHBvaW50ZXJzOiAwIH0pKVxuXHRcdFx0XHRzbGlkZXJNYW5hZ2VyLm9uKCdwYW5sZWZ0IHBhbnJpZ2h0IHBhbmVuZCBwYW5jYW5jZWwnLCAoZTogSGFtbWVyLkhhbW1lcklucHV0KSA9PiB7XG5cdFx0XHRcdFx0c3dpdGNoIChlLnR5cGUpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ3BhbmxlZnQnOlxuXHRcdFx0XHRcdFx0Y2FzZSAncGFucmlnaHQnOlxuXHRcdFx0XHRcdFx0XHR0aGlzLnBhdXNlVGltZXIoKVxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMuZ3JhYmJpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFkZFBhbm5pbmdDbGFzcygpXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5kcmFnLmRyYWdnYWJsZSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGFuVG8oLXRoaXMuY3VycmVudCAqIHRoaXMuY2Fyb3VzZWxJdGVtV2lkdGhWYXIgKyAwICsgZS5kZWx0YVgpXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHRcdGNhc2UgJ3BhbmNhbmNlbCc6XG5cdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlUGFubmluZ0NsYXNzKClcblx0XHRcdFx0XHRcdFx0dGhpcy5hZGRBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdHRoaXMuZ29Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4KCkpXG5cdFx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0XHRjYXNlICdwYW5lbmQnOlxuXHRcdFx0XHRcdFx0XHQvLyBlLmdlc3R1cmUuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKVxuXG5cdFx0XHRcdFx0XHRcdHRoaXMucGF1c2VUaW1lcigpXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlUGFubmluZ0NsYXNzKClcblx0XHRcdFx0XHRcdFx0dGhpcy5hZGRBbmltYXRpb25DbGFzcygpXG5cblx0XHRcdFx0XHRcdFx0bGV0IG1vdmVkID0gdGhpcy5jYWxjdWxhdGVNb3ZlZChlKVxuXHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMuaW5maW5pdGVNb2RlKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5vdXRPZkJvdW5kKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsQmFja1RvRWRnZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdFx0XHR9LCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLmFuaW1hdGlvblRpbWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuZHJhZy5kcmFnZ2FibGUpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5kZXRlY3RQYW5uaW5nTGVmdChlKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hZGRBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLm1vdmVJbmRleCgrbW92ZWQpKVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5pbmZpbml0ZUhhbmRsZXIoKVxuXHRcdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25UaW1lKVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5kZXRlY3RQYW5uaW5nUmlnaHQoZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKDEuMDAwMDAwMDEgPCB0aGlzLmN1cnJlbnRJbmRleCgpICYmIHRoaXMuY3VycmVudEluZGV4KCkgPCAxLjk5OTk5OTk5OTk5OSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmdvVG9JbmRleChNYXRoLmNlaWwodGhpcy5tb3ZlSW5kZXgoLW1vdmVkKSkpXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLm1vdmVJbmRleCgtbW92ZWQpKVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5pbmZpbml0ZUhhbmRsZXIoKVxuXHRcdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25UaW1lKVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLnN3aXBlLnN3aXBlYWJsZSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLmRldGVjdFN3aXBpbmdMZWZ0KGUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLm5leHRTbGlkZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmluZmluaXRlSGFuZGxlcigpXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMuaW5maW5pdGVNb2RlKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hZGRBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICgwLjAwMDAwMDAxIDwgdGhpcy5jdXJyZW50SW5kZXgoKSAmJiB0aGlzLmN1cnJlbnRJbmRleCgpIDwgMC45OTk5OTk5OTk5OTkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmdvVG9JbmRleCgwKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5kZXRlY3RTd2lwaW5nUmlnaHQoZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucHJldlNsaWRlKClcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuaW5maW5pdGVIYW5kbGVyKClcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5pbmZpbml0ZU1vZGUoKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoMC4wMDAwMDAwMSA8IHRoaXMuY3VycmVudEluZGV4KCkgJiYgdGhpcy5jdXJyZW50SW5kZXgoKSA8IDAuOTk5OTk5OTk5OTk5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hZGRBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5nb1RvSW5kZXgoMClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0Ly8gdGhpcy5nb1RvSW5kZXgodGhpcy5jdXJyZW50SW5kZXgoKSlcblx0XHRcdFx0XHRcdC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gXHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdC8vIH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSlcblx0XHRcdFx0XHRcdC8vIGUuZ2VzdHVyZS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdHJldHVybiBzbGlkZXJNYW5hZ2VyXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxufVxuIl19